{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019/static-blogging-with-gatsby-on-github-pages/","result":{"data":{"site":{"siteMetadata":{"title":"jhankins.dev","author":"Jay Hankins"}},"markdownRemark":{"id":"31814b97-5f07-54fe-8d4e-c1104fba548c","excerpt":"For a while now I‚Äôve been wanting to migrate my blog from Jekyll to something JS-based. This is for a few different reasons: I‚Äôm much more comfortable with the JS‚Ä¶","html":"<p>For a while now I‚Äôve been wanting to migrate my blog from <a href=\"https://jekyllrb.com/\">Jekyll</a> to something JS-based. This is for a few different reasons:</p>\n<ul>\n<li>I‚Äôm much more comfortable with the JS ecosystem than the Ruby ecosystem. When Jekyll or Ruby breaks, I don‚Äôt know how to fix it.</li>\n<li>Having to troubleshoot and debug those problems discourages me from blogging, and I want to make this a frictionless experience.</li>\n<li>I love React and the power it gives me when working on the frontend.</li>\n</ul>\n<p>I didn‚Äôt want to have a CMS or other non-static site. Static sites are so easy\nand cheap to serve that it‚Äôs not worth the headaches that come with the upkeep\nof dynamic CMSes. However, all the JS web apps I built beforehand were frontends\nthat pulled data from APIs. I didn‚Äôt really have enough knowledge of JS and its\nbuild systems to know how to coerce a web app into reading <a href=\"https://daringfireball.net/projects/markdown/\">Markdown</a>\nfiles from my local filesystem, I thought there would be difficult limitations\nwith trying to host on GitHub Pages.</p>\n<p>I thought I was gonna have to learn all the ins and outs of Server-Side\nRendering (SSR). Much to my delight, <a href=\"https://gatsbyjs.org/\">Gatsby</a> made\nsetting up a JS-based blog with Markdown files for posts <strong>so easy</strong>. Here‚Äôs\nhow I did it.</p>\n<h2 id=\"install-gatsby-and-create-a-project\" style=\"position:relative;\"><a href=\"#install-gatsby-and-create-a-project\" aria-label=\"install gatsby and create a project permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install Gatsby and Create a Project</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ae9f2873c83d25b259bf2afe15673c2e/9cab2/terminal.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 81.8287037037037%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABPElEQVQ4y+2STU/CQBCG9+JBTAv2c0tpabAf9kOK0EIrSKLh//8Lrx53xpu7tBCCGKN48ODhycxsdp99D0Pq5cNbWdW4ft7gfVFhWa1wwmu14HVSYjYpcF4/4ng6xyC+wzAZY1Etcf20QY06IKsUeroFXa2BpLMc03yGs8USHT+CbFqCGyWwKmr0nBFcdFUmaZRJKmU9zWI9vc8UcwDXhs247APE0APwkwyGbgD5MMfAjiAc3G5J3WxL6MRgUBck1RSPoH28T3UIoaYHfiyEIcROCjeDCEZ2uJVETgI+F3t2ALTvgUh5LJDbM7mFiF87XZ1dKQa7VJoq6PC+oZklxWQ7gXwgOIaciv0Zx2lOCuUvLnyXf+GfFKpWu18WO0O0d/A9pLCX/pCdTLjIrjkr4YFDCF/48PYLQuT19R3uv4onmR0fnwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"terminal showing gatsby creator\"\n        title=\"terminal showing gatsby creator\"\n        src=\"/static/ae9f2873c83d25b259bf2afe15673c2e/fcda8/terminal.png\"\n        srcset=\"/static/ae9f2873c83d25b259bf2afe15673c2e/12f09/terminal.png 148w,\n/static/ae9f2873c83d25b259bf2afe15673c2e/e4a3f/terminal.png 295w,\n/static/ae9f2873c83d25b259bf2afe15673c2e/fcda8/terminal.png 590w,\n/static/ae9f2873c83d25b259bf2afe15673c2e/9cab2/terminal.png 864w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ol>\n<li>\n<p>Install Gatsby‚Äôs CLI tool:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ yarn global add gatsby-cli</code></pre></div>\n</li>\n<li>\n<p>Create a new Gatsby project site using the <a href=\"https://github.com/gatsbyjs/gatsby-starter-blog\">starter blog template</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ gatsby new my-blog-starter https://github.com/gatsbyjs/gatsby-starter-blog</code></pre></div>\n</li>\n<li>\n<p>Run the project:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ gatsby develop</code></pre></div>\n</li>\n</ol>\n<p>There we go. Now the Gatsby dev server is running. The dev server gives us cool\nfeatures, like keeping code maps so we can debug easier, as well as\nhot-reloading, so you don‚Äôt need to refresh your browser to see your changes. A\nquick visit to <a href=\"http://localhost:8000\">localhost:8000</a> will show you the running\nproject!</p>\n<p>A quick reminder that when developing locally, you should make sure to disable\nyour cache. Gatsby makes an effort to disable caching, but I still had trouble\nwith cached assets every so often. A good Shift + refresh will make sure you see\nthe latest changes. You can also pop open your browser dev tools and tick the\n‚Äúdisable cache‚Äù option.</p>\n<h2 id=\"how-to-create-posts\" style=\"position:relative;\"><a href=\"#how-to-create-posts\" aria-label=\"how to create posts permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to Create Posts</h2>\n<p>Remember how I was worried about being able to parse Markdown files from my\nlocal filesystem? Well that was pretty unfounded of me, because the blog starter\nproject has made it really easy.</p>\n<p>Blog posts live in <code class=\"language-text\">content/blog/</code>, and from there you can pick any type of\nstructure you like. (That‚Äôs another plus of Gatsby: it‚Äôs just as easy to edit as\nany old React site.) Here‚Äôs how I‚Äôve organized my blog:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/13f3dfa8aa02f3336af820b517f271a0/b3608/Untitled-ae6f7080-cd22-44f7-b896-8105fff0c1f3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.74074074074074%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6ElEQVQoz52S2W7TQBSGrUp9AFQF96V6N+oD5Aa4aFBjg+BB6DP0mguEEDRJUUU3N4krZ7wnXtMSW6KELIpnfDgTkopFXMCRPs1/lvlnZI/0pvpq0zx7vXNBz3Zd0yZmzyCappGeYRBqWuST3iOtRoMcNZqkfX5Ckj4laWCTZGATz/OWOI6zSyndOTg42JSUvf0KpcY4iiPwBiFcUwssy4JsNIJ+lGItgCAIwPdc0J0QOmYIPS+F6PYOsjyHEc7NZjNI03SsqmpFqquqfHqhZT1qgxvE7GaU88lkwufTKe/nX3k0vOWMMc6KBdf8L/zwOOSHzQH/0M14nA656zrYZjCfz7NarSZLz1+8lLV2JzdMG5JkyAGgXFNwXnJE6FLUSoZLsYKVaFQuFguxR9wyVxRFlvbrinx6fplfdXTwByHeZtlHhxLQ7F4LRG99GuM/ahi/Gu7Vnsqtjyf55VUHXK/PV0P3hr/nP+tV/09Dg1qZ4/VhePO5wAEmwGHxbdjf8nWgLoThdDrN6vW6LCnqs+1rg07CeAh342/wv1EUxQT/8rb06PGTraPmcevtu/dGu6N3kyTRBXEc61EU6evc933dtm3ddd0l+PaWoO7iWzRM02xVq9UtCWMDeYA8RCqr9V9Y7xEeG98Bih5sADbOFNIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled ae6f7080 cd22 44f7 b896 8105fff0c1f3\"\n        title=\"Untitled ae6f7080 cd22 44f7 b896 8105fff0c1f3\"\n        src=\"/static/13f3dfa8aa02f3336af820b517f271a0/fcda8/Untitled-ae6f7080-cd22-44f7-b896-8105fff0c1f3.png\"\n        srcset=\"/static/13f3dfa8aa02f3336af820b517f271a0/12f09/Untitled-ae6f7080-cd22-44f7-b896-8105fff0c1f3.png 148w,\n/static/13f3dfa8aa02f3336af820b517f271a0/e4a3f/Untitled-ae6f7080-cd22-44f7-b896-8105fff0c1f3.png 295w,\n/static/13f3dfa8aa02f3336af820b517f271a0/fcda8/Untitled-ae6f7080-cd22-44f7-b896-8105fff0c1f3.png 590w,\n/static/13f3dfa8aa02f3336af820b517f271a0/efc66/Untitled-ae6f7080-cd22-44f7-b896-8105fff0c1f3.png 885w,\n/static/13f3dfa8aa02f3336af820b517f271a0/c83ae/Untitled-ae6f7080-cd22-44f7-b896-8105fff0c1f3.png 1180w,\n/static/13f3dfa8aa02f3336af820b517f271a0/b3608/Untitled-ae6f7080-cd22-44f7-b896-8105fff0c1f3.png 2160w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Example: Here‚Äôs an example directory layout for a post with images.</p>\n<p>I have directories for each year. Inside each year directory is either a folder\nwith the slug name of the post, e.g. <code class=\"language-text\">enpass-vs-lastpass/</code>, or a <code class=\"language-text\">.md</code> file.</p>\n<p>If the post is text-only, I create a Markdown file with <code class=\"language-text\">slug-name.md</code> as the\nname. If the post contains images or other reference files, I create a folder\nwith the <code class=\"language-text\">slug-name</code> instead.</p>\n<p>The associated files go in there, along with an <code class=\"language-text\">index.md</code> which is the post\ncontent. With both approaches, you‚Äôll get permalink URLs matching the structure\nyou choose. In my case, I get: <code class=\"language-text\">https://jayhankins/2016/enpass-vs-lastpass/</code>.</p>\n<h2 id=\"migrating-old-posts\" style=\"position:relative;\"><a href=\"#migrating-old-posts\" aria-label=\"migrating old posts permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Migrating Old Posts</h2>\n<p>In the case of Jekyll blogs, posts are written mostly in Markdown, perhaps with\nsome embedded HTML tags. It was easy enough to just copy over my directory\nstructure from the old blog‚Äôs repo to the new one. BUT. It‚Äôs not enough to just\nmove the files over. Unless your frontmatter* matches exactly, you‚Äôll find some\nwonky things.</p>\n<p>*Frontmatter is the contents at the top of a post file that contains metadata\nabout the post, such as the date it created, the date it was updated, title,\ndescription, tags, etc.</p>\n<p>First off, your dates might not be in the right format. I found that Gatsby\nwouldn‚Äôt be able to compile the site if dates were formatted incorrectly. Bad\nnews, I was using a date format that was compatible with Ruby but not JS. I‚Äôm\nnot knowledgeable enough about timestamp formats, and I don‚Äôt really care that\nmuch, so I just converted them to the JSON-type date format that I use elsewhere\nin JS (yay!):</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># JS date format\n\ndate: &#39;2016-08-14T22:40:32.168Z&#39;</code></pre></div>\n<p>Basically, it‚Äôs <code class=\"language-text\">Year-Month-Day</code> + <code class=\"language-text\">T</code> (for time) + <code class=\"language-text\">Hours:Mins:Seconds.Fraction</code> + <code class=\"language-text\">&lt;timezone num&gt;</code> + <code class=\"language-text\">Z</code>. (Pacific Daylight is -7Z. Eastern Standard is -5.)</p>\n<p>Second, you might have other frontmatter problems. Make sure that the fields\nmatch what you‚Äôre expecting to pull into your Gatsby site. How do you know what\nGatsby is pulling in? Enter GraphQL.</p>\n<h2 id=\"understanding-graphql-in-gatsby\" style=\"position:relative;\"><a href=\"#understanding-graphql-in-gatsby\" aria-label=\"understanding graphql in gatsby permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Understanding GraphQL in Gatsby</h2>\n<p><a href=\"https://graphql.org/\">GraphQL</a> is great and useful for so much more than static\nsite generators. I think it‚Äôs the future of web APIs, because it solves so many\nheadaches on the frontend when dealing with data that isn‚Äôt well-formed.\nRegardless, GraphQL is also the mechanism by which the content from your post\nMarkdown files is queried.</p>\n<p>Since we want to know what fields are being loaded from the posts‚Äô frontmatters\ninto Gatsby, we need to know what the GraphQL query is.</p>\n<p>If you look at <code class=\"language-text\">src/index.js</code> you will see a <code class=\"language-text\">pageQuery</code> variable which is a\nstring written in GraphQL syntax to select posts. Here‚Äôs an example of mine:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// index.js\n\n...\n// This query gets the site title and posts in descending date order.\n// From each post, it gets the date, title, and published fields from the frontmatter.\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: &quot;MMMM DD, YYYY&quot;)\n            title\n            published\n          }\n        }\n      }\n    }\n  }\n`;</code></pre></div>\n<p>Now you can match up the frontmatter in your Markdown files with what Gatsby\nexpects. There are also queries in <code class=\"language-text\">src/Bio.js</code>, <code class=\"language-text\">src/seo.js</code>,\n<code class=\"language-text\">src/blog-post.js</code> and <code class=\"language-text\">404.js</code>. Be sure to check them out. Make as many\nmodifications as you need. Whatever modifications you make to frontmatter and\n<code class=\"language-text\">index.js</code>, you will also need to make in <code class=\"language-text\">blog-post.js</code>, which is the file that\nrenders individual posts. Make as many modifications as you need.</p>\n<h2 id=\"customizing-the-font\" style=\"position:relative;\"><a href=\"#customizing-the-font\" aria-label=\"customizing the font permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Customizing the Font</h2>\n<p>I think the default theme looks really good out of the box, but I wanted to\nchange the font family. Gatsby blog starter is using\n<a href=\"https://kyleamathews.github.io/typography.js/\">Typography.js</a> to customize\ntypography across our site. In the file <code class=\"language-text\">src/utils/typography.js</code>, you can see\nthat the default theme is Wordpress2016. There are also some overrides. You can\nsee my <code class=\"language-text\">typography.js</code> in this repo, but I opted for a system font stack coupled\nwith the defaults from Wordpress2016:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// src/utils/typography.js\n\n...\nconst systemFontStack = [&#39;-apple-system&#39;, &#39;BlinkMacSystemFont&#39;, &quot;Segoe UI&quot;, &#39;Roboto&#39;, &quot;Helvetica Neue&quot;, &#39;Arial&#39;, &quot;Noto Sans&quot;, &#39;sans-serif&#39;, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;, &#39;!default&#39;];\n...\nWordpress2016.headerFontFamily = systemFontStack;\nWordpress2016.bodyFontFamily = systemFontStack;\n...</code></pre></div>\n<p>When using a system font stack, make sure you include the emoji fonts to get the\nbest emoji display across different browsers and systems. On my machine, Firefox\nand Chrome would opt to show Unicode characters instead of emojis, and adding\nthe various emoji fonts to the <code class=\"language-text\">systemFontStack</code> solved this issue.</p>\n<h2 id=\"syntax-highlighting-with-prism\" style=\"position:relative;\"><a href=\"#syntax-highlighting-with-prism\" aria-label=\"syntax highlighting with prism permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Syntax Highlighting with Prism</h2>\n<p>There‚Äôs a Gatsby\n<a href=\"https://www.gatsbyjs.org/packages/gatsby-remark-prismjs/\">plugin</a> for\nhighlighting code blocks in your posts (just like this one!). To make it work, I\nhad to install the Prism plugin for Gatsby, as well as import a prismjs theme\ninto <code class=\"language-text\">gatsby-browser.js</code>. I‚Äôm confident that the docs for both Prism and the\nGatsby plugin are sufficient to get you up and running.</p>\n<h2 id=\"deploy-it-to-github-pages\" style=\"position:relative;\"><a href=\"#deploy-it-to-github-pages\" aria-label=\"deploy it to github pages permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deploy it to GitHub Pages</h2>\n<p>This was my big question. ‚ÄúHow on earth to deploy it to GitHub Pages?‚Äù It‚Äôs\neasy. Build your site with Gatsby, then push it up with the\n<a href=\"https://www.npmjs.com/package/gh-pages\">gh-pages</a> npm module. The\n<a href=\"https://www.gatsbyjs.org/docs/how-gatsby-works-with-github-pages/\">directions</a>\nchange slightly depending on if you‚Äôre using an organization URL or a repo URL.\nThe docs can help you identify which command you should use.</p>\n<p>I added a script to my <code class=\"language-text\">package.json</code> to help make deploys easy:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// package.json\n...\n&quot;scripts&quot;: {\n   ...\n    &quot;deploy&quot;: &quot;gatsby build &amp;&amp; gh-pages -d public -b master&quot;\n  }\n...</code></pre></div>\n<p>Note: I had a couple of issues again around caching when building my site and\npushing out changes. You can make sure that you have completely removed stale\ndata locally by running <code class=\"language-text\">rm -r .cache public</code> in your project folder. Then run\n<code class=\"language-text\">gatsby build</code> or <code class=\"language-text\">yarn deploy</code> again.</p>\n<h2 id=\"how-does-it-perform\" style=\"position:relative;\"><a href=\"#how-does-it-perform\" aria-label=\"how does it perform permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How Does it Perform?</h2>\n<p>Another area of concern when it comes to JavaScript web apps is performance. You\nwant to keep sites small and lightweight for your users‚Äô time and bandwidth. I‚Äôm\nby no means a performance expert, but I ran a Lighthouse audit. Serving my site\nfrom GitHub Pages with a default <code class=\"language-text\">gatsby build</code> resulted in the following\nperformance metrics:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f7f084c968585372fadbfb854e3988d1/50e7d/Untitled-9c819923-e300-4b00-a422-b7e26de367d3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.918296892980436%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACWElEQVQoz61TS3LTQBA1C47AhgNQqFgEzsFBWACFqOIMuUPAdhmF2E6I4zi/TSrEjstxFiyySBkcf+I4H0vRx9ZfoxlNMzMiXoUdLb3qHr2eN90tKZNh9rNSerq3X3hxdNJ+ftxqSe12W2ox32w2pe2dHWmzWpVqtZpUrW5Ih4eHUqPREFy9XmdxXTpuHkk/Dg6eKcvLj7le5tdJa/1ifAad7u+g3++jbreLer0eGgwGqNPpCJyengrP+eFwKHjuB8NhdN4fkNFoNN1ihwrB0Xi8B8w0TUssywLTNGE6nYLjOBBFESCEIAxDEQdBIOLUB+D6PngIgzWdhvlc9qUQtExzhwt2jQtshjPKQoGr2YTe2Np8rbo6vZzdztez0KVn6nnC99q27S8uLi4IQVbRLn/Yuxpi07bg3sbqNdzq6nx9q0/g4uYSEkyEpBe4cHl3zcV5xUGhUEgrNAxDCLIknJAEkuQveEzIfI1jDK7rQeh5EDHEvgO+79MgCoRgebWcCqqquuv5AaiahsVxlLKbir7+ZZznFhNM2ajAcKxga30zFbzT9d0wQkIwjoUmpekOmrALYUQxxjRCSCAlU56wNiauDjPX9qtrlVRQ1/XthPEz20FhFBGWLsBKJAjHRHMNYtsOudMN4nn+nOdgo8B25FLHc9z11e8L9zPc5+Wz5Afb82kEmM2Sd0EfmEMIMTi+CxtrlVdc75GiKK9XisVPX7LZD18VRS6Xy3KpVBL4VlyRc0peZm9QzuXy8tLSZ5n9EfOcFcZnlfzHYrn45v3bd08y7PvJ/E/7Azch2i4enldfAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled 9c819923 e300 4b00 a422 b7e26de367d3\"\n        title=\"Untitled 9c819923 e300 4b00 a422 b7e26de367d3\"\n        src=\"/static/f7f084c968585372fadbfb854e3988d1/fcda8/Untitled-9c819923-e300-4b00-a422-b7e26de367d3.png\"\n        srcset=\"/static/f7f084c968585372fadbfb854e3988d1/12f09/Untitled-9c819923-e300-4b00-a422-b7e26de367d3.png 148w,\n/static/f7f084c968585372fadbfb854e3988d1/e4a3f/Untitled-9c819923-e300-4b00-a422-b7e26de367d3.png 295w,\n/static/f7f084c968585372fadbfb854e3988d1/fcda8/Untitled-9c819923-e300-4b00-a422-b7e26de367d3.png 590w,\n/static/f7f084c968585372fadbfb854e3988d1/efc66/Untitled-9c819923-e300-4b00-a422-b7e26de367d3.png 885w,\n/static/f7f084c968585372fadbfb854e3988d1/c83ae/Untitled-9c819923-e300-4b00-a422-b7e26de367d3.png 1180w,\n/static/f7f084c968585372fadbfb854e3988d1/50e7d/Untitled-9c819923-e300-4b00-a422-b7e26de367d3.png 1738w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>I was really excited to see this high level of performance right out of the box\nwith Gatsby. I didn‚Äôt have to think about anything complicated to get these\nscores. Truly, I just pushed it up to GitHub and Gatsby does the rest.</p>\n<h2 id=\"todo\" style=\"position:relative;\"><a href=\"#todo\" aria-label=\"todo permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Todo</h2>\n<p>Like any good project, there‚Äôs a lot I still want to explore with this site.\nI‚Äôve already added light/dark (day/night) mode to the site using React Context,\nand a way to exclude draft posts from the final site build while still showing\nthem when developing. Posts on both are coming soon.</p>\n<p>An RSS feed is also in the works. It works out of the box with this blog\nstarter, but I want to make a couple modifications before enabling it on my\nsite. I‚Äôll also add tag pages and probably per-post themes at some point. And‚Ä¶\nserverless functions? Let‚Äôs see. I‚Äôm excited. JS and the web are dope!</p>\n<p>On the dev side, I need to integrate ESLint and Prettier and VS Code so that\nfiles get cleaned up as I make edits. I also want to set up CI/CD and stop\nbuilding on my local machine. Stay tuned if you‚Äôre interested.</p>\n<p>I‚Äôd also like to explore using different backends for storing the posts. Gatsby\nsupports a handful of interchangeable backends (including Google Sheets üòÆ) and\nit would be cool to compare those novel approaches to the simple Markdown file\napproach that I know and love. Perhaps in the future, I‚Äôll be able to have my\nGatsby blog pull right from a <a href=\"http://notion.so\">Notion.so</a> database. (I hope!)</p>\n<p>That‚Äôs about it‚Ä¶ hope you enjoyed this quick intro to blogging with Gatsby.\nReach out on Twitter to discuss more!</p>","fields":{"slug":"/2019/static-blogging-with-gatsby-on-github-pages/"},"frontmatter":{"title":"Static Blogging with Gatsby on GitHub Pages","date":"January 22, 2019","emoji":null}}},"pageContext":{"slug":"/2019/static-blogging-with-gatsby-on-github-pages/","previous":{"fields":{"slug":"/2018/reporting-ios-bugs/"},"frontmatter":{"title":"Reporting iOS Bugs"}},"next":{"fields":{"slug":"/2019/i-like-vs-code-should-i-learn-vim/"},"frontmatter":{"title":"\"I like VS Code. Should I Learn Vim?\""}}}}}